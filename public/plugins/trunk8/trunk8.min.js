!function(t){function e(e){this.$element=t(e),this.original_text=this.$element.html(),this.settings=t.extend({},t.fn.trunk8.defaults)}function i(){var e,i,r,s,h=this.data("trunk8"),l=h.settings,o=l.width,u=l.side,c=l.fill,f=n.getLineHeight(this)*l.lines,g=h.original_text,d=g.length,p="";if(this.html(g),o===a.auto){if(this.height()<=f)return;for(e=0,i=d-1;e<=i;)r=e+(i-e>>1),s=n.eatStr(g,u,d-r,c),this.html(s),this.height()>f?i=r-1:(e=r+1,p=p.length>s.length?p:s);this.html(""),this.html(p),l.tooltip&&this.attr("title",g)}else isNaN(o)?t.error('Invalid width "'+o+'".'):(r=d-o,s=n.eatStr(g,u,r,c),this.html(s),l.tooltip&&this.attr("title",g))}var r,n,s={center:"center",left:"left",right:"right"},a={auto:"auto"};e.prototype.updateSettings=function(e){this.settings=t.extend(this.settings,e)},r={init:function(r){return this.each(function(){var n=t(this),s=n.data("trunk8");s||n.data("trunk8",s=new e(this)),s.updateSettings(r),i.call(n)})},update:function(e){return this.each(function(){var r=t(this);e&&(r.data("trunk8").original_text=e),i.call(r)})},revert:function(){return this.each(function(){var e=t(this).data("trunk8").original_text;t(this).html(e)})},getSettings:function(){return this.get(0).data("trunk8").settings}},n={eatStr:function(e,i,r,a){var h,l,o=e.length,u=n.eatStr.generateKey.apply(null,arguments);if(n.eatStr.cache[u])return n.eatStr.cache[u];if("string"==typeof e&&0!==o||t.error('Invalid source string "'+e+'".'),r<0||r>o)t.error('Invalid bite size "'+r+'".');else if(0===r)return e;switch("string"!=typeof(a+"")&&t.error("Fill unable to be converted to a string."),i){case s.right:return n.eatStr.cache[u]=t.trim(e.substr(0,o-r))+a;case s.left:return n.eatStr.cache[u]=a+t.trim(e.substr(r));case s.center:return h=o>>1,l=r>>1,n.eatStr.cache[u]=t.trim(n.eatStr(e.substr(0,o-h),s.right,r-l,""))+a+t.trim(n.eatStr(e.substr(o-h),s.left,l,""));default:t.error('Invalid side "'+i+'".')}},getLineHeight:function(e){var i,r=t(e),n=r.css("float"),s=r.css("position"),a=r.html();return"none"!==n&&r.css("float","none"),"absolute"===s&&r.css("position","static"),r.html("i").wrap('<div id="line-height-test" />'),i=t("#line-height-test").innerHeight(),r.html(a).css({float:n,position:s}).unwrap(),i}},n.eatStr.cache={},n.eatStr.generateKey=function(){return Array.prototype.join.call(arguments,"")},t.fn.trunk8=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.trunk8"):r.init.apply(this,arguments)},t.fn.trunk8.defaults={fill:"&hellip;",lines:1,side:s.right,tooltip:!0,width:a.auto}}(jQuery);